# https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = us,es
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    touchpad {
        natural_scroll = false
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#gestures
gestures {
    # workspace_swipe = true
    # workspace_swipe_fingers = 3
    workspace_swipe_invert = false
    workspace_swipe_cancel_ratio = 0.1
    # workspace_swipe_forever = true;
    workspace_swipe_create_new = true;
    # workspace_swipe_min_speed_to_force = 10
}

animations {
   workspace_wraparound = true;
}

gesture = 3, horizontal, workspace

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

# See https://wiki.hyprland.org/Configuring/Keywords/
# Set programs that you use

# See https://wiki.hyprland.org/Configuring/Keywords/
$MOD = SUPER # Sets "Windows" key as main modifier

# defensive
unbind = ALT, left
unbind = ALT, right

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more

# quitting
# bind = $MOD, Q, exec, wlogout
bind = $MOD, Q, exec, dms ipc call powermenu toggle
bind = $MOD SHIFT, Q, exit,

# programs
bind = $MOD, M, exec, ~/usr/bin/getmail
bind = $MOD SHIFT, M, exec, ~/usr/bin/email

bind = $MOD, backslash, exec, ~/usr/bin/hyprfocus org.gnome.Terminal || gnome-terminal
bind = $MOD SHIFT, backslash, exec, gnome-terminal

bind = $MOD, W, exec, ~/usr/bin/hyprfocus zen-beta || zen-beta
bind = $MOD SHIFT, W, exec, zen-beta

bind = $MOD, E, exec, ~/usr/bin/hyprfocus emacs || emacsclient -c -e '(ignore)'
bind = $MOD SHIFT, E, exec, emacsclient -c -e '(ignore)'

bind = $MOD, R, exec, ~/usr/bin/hyprmoji

bind = $MOD, N, exec, nautilus
bind = $MOD SHIFT, N, exec, nautilus -w

bind = $MOD, space, exec, ~/usr/bin/hyprlauncher
bind = $MOD SHIFT, space, exec, rofi -show file-browser-extended -file-browser-depth 4 -file-browser-no-descend

# screenshots
bind = SHIFT, print, exec, hyprshot -m output
bind = $MOD, print, exec, hyprshot -m window -m active
bind = , print, exec, hyprshot -m region
bind = ALT, print, exec, kooha

bind = $MOD, C, killactive,
bind = $MOD, O, togglefloating,

# switch layout
# not nice, cuz doesn't work per workspace, we can look into this in the futre
# https://github.com/zakk4223/hyprWorkspaceLayouts
bind = $MOD, 0, exec, hyprctl keyword general:layout "$(hyprctl getoption general:layout | grep -q 'dwindle' && echo 'master' || echo 'dwindle')"

# dwindle
bind = $MOD, P, pseudo,
bind = $MOD, J, togglesplit,

# master
bind = $MOD, return, layoutmsg, swapwithmaster master #auto
bind = $MOD, J, layoutmsg, swapnext
bind = $MOD, H, layoutmsg, swapprev
bind = $MOD, L, layoutmsg, mfact +0.05
bind = $MOD, K, layoutmsg, mfact -0.05
bind = $MOD, equal, layoutmsg, orientationcycle left top center
bind = $MOD, minus, layoutmsg, orientationcycle center top left
bind = $MOD, P, layoutmsg, addmaster
bind = $MOD SHIFT, P, layoutmsg, removemaster

# window moving
bind = $MOD, F, fullscreen
bind = ALT, tab, cyclenext
bind = ALT, tab, bringactivetotop
bind = $MOD, tab, layoutmsg, cyclenext
bind = $MOD, tab, bringactivetotop
bind = $MOD SHIFT, tab, layoutmsg, cycleprev
bind = $MOD SHIFT, tab, bringactivetotop

# Move focus with MOD + arrow keys
bind = $MOD, left, movefocus, l
bind = $MOD, right, movefocus, r
bind = $MOD, up, movefocus, u
bind = $MOD, down, movefocus, d

# Switch workspaces with MOD + [0-9]
bind = $MOD, 1, workspace, 1
bind = $MOD, 2, workspace, 2
bind = $MOD, 3, workspace, 3
bind = $MOD, 4, workspace, 4
bind = $MOD, 5, workspace, 5
bind = $MOD, 6, workspace, 6
bind = $MOD, 7, workspace, 7
bind = $MOD, 8, workspace, 8
bind = $MOD, 9, workspace, 9
bind = $MOD, bracketleft, workspace, e-1
bind = $MOD, bracketright, workspace, e+1

# move workspace to monitor
bind = $MOD CONTROL, 1, focusworkspaceoncurrentmonitor, 1
bind = $MOD CONTROL, 2, focusworkspaceoncurrentmonitor, 2
bind = $MOD CONTROL, 3, focusworkspaceoncurrentmonitor, 3
bind = $MOD CONTROL, 4, focusworkspaceoncurrentmonitor, 4
bind = $MOD CONTROL, 5, focusworkspaceoncurrentmonitor, 5
bind = $MOD CONTROL, 6, focusworkspaceoncurrentmonitor, 6
bind = $MOD CONTROL, 7, focusworkspaceoncurrentmonitor, 7
bind = $MOD CONTROL, 8, focusworkspaceoncurrentmonitor, 8
bind = $MOD CONTROL, 9, focusworkspaceoncurrentmonitor, 9
bind = $MOD CONTROL, bracketleft,  focusworkspaceoncurrentmonitor, e-1
bind = $MOD CONTROL, bracketright, focusworkspaceoncurrentmonitor, e+1

# Move active window to a workspace with MOD + SHIFT + [0-9]
bind = $MOD SHIFT, 1, movetoworkspacesilent, 1
bind = $MOD SHIFT, 2, movetoworkspacesilent, 2
bind = $MOD SHIFT, 3, movetoworkspacesilent, 3
bind = $MOD SHIFT, 4, movetoworkspacesilent, 4
bind = $MOD SHIFT, 5, movetoworkspacesilent, 5
bind = $MOD SHIFT, 6, movetoworkspacesilent, 6
bind = $MOD SHIFT, 7, movetoworkspacesilent, 7
bind = $MOD SHIFT, 8, movetoworkspacesilent, 8
bind = $MOD SHIFT, 9, movetoworkspacesilent, 9
bind = $MOD SHIFT, 0, movetoworkspacesilent, 10
bind = $MOD SHIFT, bracketleft,  movetoworkspace, -1
bind = $MOD SHIFT, bracketright, movetoworkspace, +1

# Change monitor focus
bind = $MOD, A, focusmonitor, -1
bind = $MOD, S, focusmonitor, +1

# Example special workspace (scratchpad)
# bind = $MOD, D, togglespecialworkspace, magic
# bind = $MOD SHIFT, D, movetoworkspace, special:magic

# Scroll through existing workspaces with MOD + scroll
bind = $MOD, mouse_down, workspace, e+1
bind = $MOD, mouse_up, workspace, e-1

# Move/resize windows with MOD + LMB/RMB and dragging
bindm = $MOD, mouse:272, movewindow
bindm = $MOD SHIFT, mouse:272, resizewindow
bindm = $MOD, mouse:273, resizewindow

# adapted from
# https://github.com/AvengeMedia/DankMaterialShell/blob/143918bc5ec91a7d25643c17ec521664ec35bde1/core/internal/config/embedded/hypr-binds.conf
bind = SUPER, comma, exec, dms ipc call control-center toggle
bind = SUPER SHIFT, comma, exec, dms ipc call settings focusOrToggle
bind = SUPER, period, exec, dms ipc call clipboard toggle
bind = SUPER SHIFT, period, exec, dms ipc call processlist focusOrToggle
bind = SUPER, slash, exec, dms ipc call notifications toggle
bind = SUPER SHIFT, slash, exec, dms ipc call notepad toggle

# audio
bindel = , XF86AudioRaiseVolume, exec, dms ipc call audio increment 3
bindel = , XF86AudioLowerVolume, exec, dms ipc call audio decrement 3
bindl = , XF86AudioMute, exec, dms ipc call audio mute
bindl = , XF86AudioMicMute, exec, dms ipc call audio micmute
bindl = , XF86AudioPause, exec, dms ipc call mpris playPause
bindl = , XF86AudioPlay, exec, dms ipc call mpris playPause
bindl = , XF86AudioPrev, exec, dms ipc call mpris previous
bindl = , XF86AudioNext, exec, dms ipc call mpris next

# brightness
bindel = , XF86MonBrightnessUp, exec, dms ipc call brightness increment 5 ""
bindel = , XF86MonBrightnessDown, exec, dms ipc call brightness decrement 5 ""

# keyboard layout
bind = $MOD ALT, space, exec, hyprctl switchxkblayout $(hyprctl devices -j | jq -r '.keyboards[] | select(.main == true) | .name') next

# # notifications
# bind = $MOD, comma, exec, makoctl dismiss
# bind = $MOD, slash, exec, makoctl dismiss -a
# bind = $MOD, period, exec, makoctl invoke || makoctl dismiss
# bind = $MOD SHIFT, comma, exec, makoctl restore
# bind = $MOD SHIFT, slash, exec, makoctl restore
# bind = $MOD SHIFT, period, exec, makoctl restore
#
# # toggle language and display with swayosd
# bind = $MOD ALT, space, exec, hyprctl switchxkblayout $(hyprctl devices -j | jq -r '.keyboards[] | select(.main == true) | .name') next && ~/usr/bin/hyprosd --custom-message="‚å®  $(hyprctl devices -j | jq -r '.keyboards[] | select(.main == true) | .active_keymap')"
#
# # Laptop multimedia keys for volume and LCD brightness
# bindel = , XF86AudioRaiseVolume, exec, ~/usr/bin/hyprosd --output-volume=raise
# bindel = , XF86AudioLowerVolume, exec, ~/usr/bin/hyprosd --output-volume=lower
# bindel = , XF86AudioMute, exec, ~/usr/bin/hyprosd --output-volume=mute-toggle
# bindel = , XF86AudioMicMute, exec, ~/usr/bin/hyprosd --input-volume=mute-toggle
# bindel = , XF86MonBrightnessUp, exec, ~/usr/bin/hyprosd --brightness=raise
# bindel = , XF86MonBrightnessDown, exec, ~/usr/bin/hyprosd --brightness=lower
#
# # Requires playerctl
# bindl = , XF86AudioNext, exec, ~/usr/bin/hyprosd --playerctl=next
# bindl = , XF86AudioPause, exec, ~/usr/bin/hyprosd --playerctl=play-pause
# bindl = , XF86AudioPlay, exec, ~/usr/bin/hyprosd --playerctl=play-pause
# bindl = , XF86AudioPrev, exec, ~/usr/bin/hyprosd --playerctl=previous
#
# # Display settings
# bindl = , XF86AudioMedia, exec, nwg-displays
# bindl = , XF86Display, exec, nwg-displays
# bindl = , XF86Explorer, exec, nwg-displays
